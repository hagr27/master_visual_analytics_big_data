# Instalación de MongoDB usando Docker


### 1. Crear una carpeta para MongoDB
---

```bash
mkdir -p ~/mongo_data
cd ~/mongo_data
```
> Esta carpeta almacenará los datos de MongoDB.

### 2. Crear archivo docker-compose.yml
---

```yaml
version: "3.9"

services:

  mongodb:
    image: mongo:latest
    container_name: mongodb_03_db
    restart: always
    environment:
      MONGO_INITDB_ROOT_USERNAME: ${MONGO_USER}
      MONGO_INITDB_ROOT_PASSWORD: ${MONGO_PASSWORD}
    ports:
      - "27017:27017"   # solo expón si necesitas acceso desde fuera
    volumes:
      - mongo_data:/data/db

  mongo-express:
    image: mongo-express
    container_name: mongodb_03_db_express
    restart: always
    environment:
      ME_CONFIG_MONGODB_ADMINUSERNAME: ${MONGO_USER}
      ME_CONFIG_MONGODB_ADMINPASSWORD: ${MONGO_PASSWORD}
      ME_CONFIG_MONGODB_SERVER: mongodb
    ports:
      - "8081:8081"
    depends_on:
      - mongodb

volumes:
  mongo_data:
```
### 3. Crear archivo .env
---

```yaml
MONGO_USER=user
MONGO_PASSWORD=user_pass
```
> **Comando:** `source .env`


###  4. Levantar MongoDB
```bash
sudo docker compose up -d

#Verificar que el contenedor está corriendo:
sudo docker ps

sudo docker exec -it mongodb mongosh -u ${MONGO_USER} -p ${MONGO_PASSWORD}
```

### 5. Opción B – Desde un cliente gráfico como MongoDB Compass
- Usa esta URI:
```bash
mongodb://{USER}:{PASS}@localhost:27017
mongodb://{USER}:{PASS}@localhost:27017/?authSource=admin
```

#### 6. comandos Docker
```bash
# Detener MongoDB:
sudo docker compose down

# Reiniciar:
sudo docker compose restart

# Ver logs:
sudo docker logs mongodb -f

# Esto borrará tu base de datos.
sudo docker compose down
sudo rm -rf data/
```